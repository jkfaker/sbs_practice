(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-crop-crop"],{"1cb7":function(e,t,a){var n=a("c86c");t=n(!1),t.push([e.i,".container[data-v-7f041d90]{height:calc(100vh - var(--window-top))}",""]),e.exports=t},"61ef":function(e,t,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5c47"),a("a1c1"),a("c9b5"),a("15d1"),a("d5c6"),a("5a56"),a("f074"),a("80e3"),a("4db2"),a("bf0f"),a("c976"),a("4d8f"),a("7b97"),a("668a"),a("c5b7"),a("8ff5"),a("2378"),a("641a"),a("64e0"),a("cce3"),a("efba"),a("d009"),a("bd7d"),a("7edd"),a("d798"),a("f547"),a("5e54"),a("b60a"),a("8c18"),a("12973"),a("f991"),a("198e"),a("8557"),a("63b1"),a("1954"),a("1cf1"),a("18f7"),a("de6c"),a("dc89"),a("2425");var r=n(a("2634")),c=n(a("2fdc")),o=n(a("8684")),u={components:{qfCropper:o.default},data:function(){return{src:"",imgCroped:""}},onLoad:function(){var e=this;return(0,c.default)((0,r.default)().mark((function t(){var a,n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,uni.chooseImage({count:1});case 2:a=t.sent,console.log(a),n=a.tempFilePaths[0],console.log(n),e.src=n;case 7:case"end":return t.stop()}}),t)})))()},methods:{crop:function(e){return(0,c.default)((0,r.default)().mark((function t(){var a,n,c,o,u,f,i,d,s;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for("/files/images",console.log(e.tempFilePath),a=e.tempFilePath.replace(/^data:image\/\w+;base64,/,""),n=atob(a),c=new ArrayBuffer(n.length),o=new Uint8Array(c),u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return f=new Blob([c],{type:"image/jpeg"}),"example.jpeg",i=URL.createObjectURL(f),console.log("图片临时路径:",i),t.next=13,uni.uploadFile({url:getApp().globalData.URL+"/files/images",filePath:i,name:"img",header:{token:uni.getStorageSync("token")}});case 13:d=t.sent,URL.revokeObjectURL(i),console.log(d),s=JSON.parse(d.data).data,console.log("imgName:".concat(s)),uni.setStorageSync("cropImageName",s),uni.navigateBack({delta:1});case 20:case"end":return t.stop()}}),t)})))()}}};t.default=u},"9d5b":function(e,t,a){var n=a("1cb7");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("967d").default;r("9a2621d6",n,!0,{sourceMap:!1,shadowMode:!1})},a84e:function(e,t,a){"use strict";a.r(t);var n=a("61ef"),r=a.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(c);t["default"]=r.a},bd3f:function(e,t,a){"use strict";var n=a("9d5b"),r=a.n(n);r.a},da55:function(e,t,a){"use strict";a.r(t);var n=a("f0e2"),r=a("a84e");for(var c in r)["default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(c);a("bd3f");var o=a("828b"),u=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"7f041d90",null,!1,n["a"],void 0);t["default"]=u.exports},f0e2:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("qfCropper",{attrs:{src:e.src,width:"1280",height:"720"},on:{crop:function(t){arguments[0]=t=e.$handleEvent(t),e.crop(t)}}})],1)},r=[]}}]);