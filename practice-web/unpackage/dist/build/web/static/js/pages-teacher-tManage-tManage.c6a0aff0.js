(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-teacher-tManage-tManage"],{1245:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("aa9c"),n("8f71"),n("bf0f");var a={data:function(){return{departList:["管理员","文法学院","商务信息学院","商务经济学院","商务外语学院","艺术设计学院","酒店管理学院","工商管理学院"],teacherList:[],deleteId:0,teacher:{id:0,name:"",departId:1}}},onLoad:function(){this.getAllTeacher()},methods:{notify:function(e,t){this.$refs.uNotify.show({top:10,type:e,message:t,duration:3e3,fontSize:20})},clickDelete:function(e){this.deleteId=e.id,this.$refs.alertDialog.open()},submit:function(e){var t=this;uni.request({url:getApp().globalData.URL+"/teacher/update",header:{token:uni.getStorageSync("token")},method:"POST",data:e,success:function(e){console.log(e),0!==e.data.code?(t.notify("success","已完成数据变更"),t.getAllTeacher()):t.notify("error",e.data.msg)},fail:function(e){console.log(e),t.notify("error","网络异常！")}})},addTeacher:function(e){this.teacherList.push({name:"",departId:e})},findByDepartId:function(e){return console.log(e),this.teacherList.filter((function(t){return t.departId===e}))},getAllTeacher:function(){var e=this;uni.request({url:getApp().globalData.URL+"/teacher",header:{token:uni.getStorageSync("token")},method:"GET",success:function(t){console.log(t),0!==t.data.code?e.teacherList=t.data.data:e.notify("error",t.data.msg)},fail:function(t){console.log(t),e.notify("error","网络异常！")}})},subDelete:function(){var e=this;console.log(this.deleteId),uni.request({url:getApp().globalData.URL+"/teacher/delete",header:{token:uni.getStorageSync("token")},method:"POST",data:{id:this.deleteId},success:function(t){console.log(t),0!==t.data.code?(e.notify("success","数据已删除"),e.getAllTeacher()):e.notify("error",t.data.msg)},fail:function(t){console.log(t),e.notify("error","网络异常！")}})}}};t.default=a},"1f42":function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".buttons[data-v-18eecb2a]{display:flex;flex-direction:row;height:30px}.input-box[data-v-18eecb2a]{display:flex;justify-content:space-between;align-items:center}",""]),e.exports=t},"5a97":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={uNotify:n("5916").default,uniPopup:n("5e9c").default,uniPopupDialog:n("2c98").default,uniSection:n("4ac9").default,uniEasyinput:n("062f").default,uGap:n("7b88").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("u-notify",{ref:"uNotify"}),n("uni-popup",{ref:"alertDialog",attrs:{type:"dialog"}},[n("uni-popup-dialog",{attrs:{type:"error",cancelText:"取消",confirmText:"删除",title:"教师删除",content:"确定删除吗？"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.subDelete()}}})],1),e._l(e.departList,(function(t,a){return n("v-uni-view",{key:a,staticClass:"list"},[n("uni-section",{attrs:{title:t,type:"line",padding:!0}},[e.findByDepartId(a).length?e._e():n("v-uni-view",{staticStyle:{color:"blueviolet","font-size":"20px"}},[e._v("暂无负责老师")]),e._l(e.findByDepartId(a),(function(t,a){return n("v-uni-view",{key:a},[n("v-uni-view",{staticClass:"input-box"},[n("uni-easyinput",{attrs:{styles:e.styles,placeholderStyle:e.placeholderStyle,placeholder:"教师工号"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.input.apply(void 0,arguments)}},model:{value:t.id,callback:function(n){e.$set(t,"id",n)},expression:"item.id"}}),n("uni-easyinput",{attrs:{styles:e.styles,placeholderStyle:e.placeholderStyle,placeholder:"教师姓名"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.input.apply(void 0,arguments)}},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"item.name"}})],1),n("u-gap",{attrs:{height:"10"}}),n("v-uni-view",{staticClass:"buttons"},[n("v-uni-button",{attrs:{size:"mini",type:"warn"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.clickDelete(t)}}},[e._v("删除")]),n("v-uni-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.submit(t)}}},[e._v("提交")])],1),n("u-gap",{attrs:{height:"10"}})],1)})),n("u-gap",{attrs:{height:"20"}}),n("v-uni-button",{attrs:{size:" default",type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addTeacher(a)}}},[e._v("添加老师")])],2)],1)}))],2)},o=[]},a9a8:function(e,t,n){"use strict";n.r(t);var a=n("1245"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},cda5:function(e,t,n){"use strict";n.r(t);var a=n("5a97"),i=n("a9a8");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("fc01");var u=n("828b"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"18eecb2a",null,!1,a["a"],void 0);t["default"]=r.exports},d5e6:function(e,t,n){var a=n("1f42");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("76bbf090",a,!0,{sourceMap:!1,shadowMode:!1})},fc01:function(e,t,n){"use strict";var a=n("d5e6"),i=n.n(a);i.a}}]);